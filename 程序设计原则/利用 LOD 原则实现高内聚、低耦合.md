# 迪米特法则

学习迪米特法则之前，你知道下面几个问题的答案吗？

- 什么是“高内聚、松耦合”？
- 如何利用迪米特法则来实现“高内聚、松耦合”？
- 有哪些代码设计是明显违背迪米特法则的？对此又该如何重构？



## 什么是高内聚、低耦合

 

“高内聚、松耦合”是一个比较通用的设计思想，可以用来指导不同粒度代码的设计与开发，比如系统、模块、类，甚至是函数

下面，以类这个粒度为例，说下如何利用迪米特法则实现类的”高内聚、低耦合“

在这个设计思想中，“高内聚”用来指导类本身的设计，“松耦合”用来指导类与类之间依赖关系的设计。不过，这两者并非完全独立不相干。高内聚有助于松耦合，松耦合又需要高内聚的支持。



- 什么是高内聚？
  - 指相近的功能应该放到同一个类中，不相近的功能不要放到同一个类中。
- 什么是低耦合?
  - 类与类之间的依赖关系简单清晰。
  - 即使两个类有依赖关系，一个类的代码改动不会或者很少导致依赖类的代码改动。



## 迪米特法则理论



迪米特法则的英文翻译是：Law of Demeter，缩写是 LOD。单从这个名字上来看，我们完全猜不出这个原则讲的是什么。不过，它还有另外一个更加达意的名字，叫作最小知识原则，英文翻译为：The Least Knowledge Principle。

原汁原味的英文定义：

> Each unit should have only limited knowledge about other units: only units“closely” related to the current unit. Or: Each unit should only talk to itsfriends; Don’t talk to strangers.







## 代码示例（<u>TODO</u>)



- TODO: 看下争哥文章中案例，这里先不看了





## 重点回顾

这里就把争哥写的全部粘贴过来了，多读读，总有不一样的理解



1. 如何理解“高内聚、松耦合”？
“高内聚、松耦合”是一个非常重要的设计思想，能够有效提高代码的可读性和可维护性，
缩小功能改动导致的代码改动范围。“高内聚”用来指导类本身的设计，“松耦合”用来指
导类与类之间依赖关系的设计。
所谓高内聚，就是指相近的功能应该放到同一个类中，不相近的功能不要放到同一类中。相
近的功能往往会被同时修改，放到同一个类中，修改会比较集中。所谓松耦合指的是，在代
码中，类与类之间的依赖关系简单清晰。即使两个类有依赖关系，一个类的代码改动也不会
或者很少导致依赖类的代码改动。
2. 如何理解“迪米特法则”？
不该有直接依赖关系的类之间，不要有依赖；有依赖关系的类之间，尽量只依赖必要的接
口。迪米特法则是希望减少类之间的耦合，让类越独立越好。每个类都应该少了解系统的其
他部分。一旦发生变化，需要了解这一变化的类就会比较少。