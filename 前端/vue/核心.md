# 核心



# 组件化编程





## 自定义组件

==写不学==





## 组件总线



==任意组件间通信，开发中用的特别多==



![image-20220109210208685](https://blog-bt.oss-cn-beijing.aliyuncs.com/1/20220109210208.png)





# 使用 Vue-cli 脚手架



## 说明

1.  Vue 脚手架是 Vue 官方提供的标准化开发工具（开发平台）
2.  文档: https://cli.vuejs.org/zh/。



## 安装

npm install -g @vue/cli



备注:

```
如出现下载缓慢请配置 npm 淘宝镜像：npm config set registry
https://registry.npm.taobao.org
```



## 创建项目

==利用脚手架初始化一个项目==

第二步：切换到你要创建项目的目录，然后使用命令创建项目
vue create xxxx
第三步：启动项目
npm run serve



## 项目结构



## render



==作用：==

- 解析模板的

==写在哪里？==

- 写在 `main.js` 中的 `vm` 中

- <img src="https://blog-bt.oss-cn-beijing.aliyuncs.com/1/20220109180721.png" alt="image-20220109180721529" style="zoom:50%;" />





## 脚手架默认配置



==1、查看默认配置==

在 cmd 中执行 `vue inspect > output.js`

<img src="https://blog-bt.oss-cn-beijing.aliyuncs.com/1/20220109181230.png" alt="image-20220109181230753" style="zoom:50%;" />







### 更改默认配置



==vue 中有个默认的核心配置，开发人员在 `vue.config.js` 中的配置，会替换掉和默认配置相同的项，默认配置中的其它配置还是默认的==



==1、建立 vue.conf.js 文件==





==2、配置项==

参考官网

https://cli.vuejs.org/zh/config/#vue-config-js





## props 属性

需要注意的点：

1. vue 先将 props 中的属性放进 VC 对象，再将 data 中的属性放进 VC 对象



==作用：==

- 组件接受外部传来的值（==缺点：父组件传值给子组件。不能兄弟组件间传值==）



`Student.vue`

```html
// 模板
<template>
  <div class="bg">
      <h2>{{ msg }}</h2>
      <h2>名字：{{name}}</h2>
      <h2>年龄：{{myAge}}</h2>
      <!-- props 传进来的值是不能被修改的 -->
      <h2>年龄：{{age}}</h2>
      <h2>性别：{{sex}}</h2>
      <button @click="addAge">年龄加 1</button>
  </div>
</template>

<script>
// 该组件需要被其它组件导入
export default {
    // 配置组件名字。防止被人注册时，名字错乱
    // 1. 最好大写
    name: "Student",
    // 函数方式，配置data
    data(){
        return {
            msg:"动态添加属性",
            myAge: this.age
        }
    },

    // props 传进来的值不能被修改
    props: {
        name:{
            type:String,
            required:true
        },
        age:{
            type:Number,
            default:19
        },
        sex:{
            type:String,
            required: true
        }

    },

    methods:{
        addAge(){
            this.myAge++;
        }
    }
}
</script>

<style>
    .bg{
        background-color: blueviolet;
    }
</style>
```







## scoped 指定样式作用范围











# Vue 中的 ajax









# 小知识

## 跨域



跨域违背了同源策略

同源策略要求三个一致：

1. 协议名
2. 主机名
3. 端口号

<img src="https://blog-bt.oss-cn-beijing.aliyuncs.com/1/20220109160331.png" alt="image-20220109160331652" style="zoom: 33%;" />

跨域时，浏览器发送了请求，并且服务端收到请求后，也返回给了浏览器，只是浏览器没有将数据显示



### 解决方式



#### 服务端

服务端返回响应头，这时候就需要后端人员做了

<img src="https://blog-bt.oss-cn-beijing.aliyuncs.com/1/20220109160554.png" alt="image-20220109160554281" style="zoom:50%;" />



#### jsonp



==用的很少==

缺点：

1. 只能解决 `get` 请求
2. 前后端人员都需要配合



#### 配置代理



粉色的是服务器、蓝色的是服务器，



服务器之间，发送请求，不用 ajax，因此 ==粉色== 和 ==蓝色== 之间交互不存在 ==跨域==

<img src="https://blog-bt.oss-cn-beijing.aliyuncs.com/1/20220109160810.png" alt="image-20220109160810720" style="zoom:33%;" />

==代理服务可以有哪些？==

1. nignx
2. vue-cli



###### vue-cli 配置代理



==1、在脚手架配置文件中配置 (Vue.config.json)==

<img src="https://blog-bt.oss-cn-beijing.aliyuncs.com/1/20220109161509.png" alt="image-20220109161508986" style="zoom:33%;" />

==2、如何配置==

官方文档：https://cli.vuejs.org/zh/config/#devserver-proxy



使用下面这种方式：

<img src="https://blog-bt.oss-cn-beijing.aliyuncs.com/1/20220109162047.png" alt="image-20220109162047866" style="zoom:33%;" />

记得重写 url

<img src="https://blog-bt.oss-cn-beijing.aliyuncs.com/1/20220109162357.png" alt="image-20220109162357364" style="zoom: 50%;" />



配置项 ==ws、changeOrigin== 说明：

<img src="https://blog-bt.oss-cn-beijing.aliyuncs.com/1/20220109162702.png" alt="image-20220109162701890" style="zoom:50%;" />





## 本地存储



1. 本地存储都是存到浏览器中
2. 存储的都是字符串



### localStorage









### sessionStorage



存储的东西，在浏览器关闭的时候，会全部清空，所以叫做 `sessionStroage`



### 总结



<img src="https://blog-bt.oss-cn-beijing.aliyuncs.com/1/20220109195326.png" alt="image-20220109195326239" style="zoom:50%;" />